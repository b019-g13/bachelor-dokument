\clearpage


På forhånd var det visse faktorer vi visste vi måtte ta hensyn til:


\section{Front-end}

\subsection{Oppsett av React og tilhørende verktøy}

Det første som ble gjort i denne prosessen var å laste ned Node.js\footnote{\url{https://nodejs.org/en/}}. I dette prosjektet blir ikke Node brukt som en back-end tjenester eller server, men for å kunne kjøre alle verktøy som må til for å kunne utvikle lokalt på datamaskinen. Det var den nyeste versjonen (11.9.0) som ble lastet ned. Deretter ble nettleserutvidelsen React Developer Tools lagt til fra Google Chrome sin webstore. Det ble også opprettet et repository på Github og lastet ned på maskinen ved hjelp av GitKraken. 
Videre var det nødvendig med et kommandolinjevindu og en teksteditor, valget falt da på kommandolinjevinduet Powershell og teksteditoren Visual Studio Code.

For å sette opp selve React, ble  guiden til react.org for å sette opp en ny React App\footnote{\url{https://reactjs.org/docs/create-a-new-react-app.html\#create-react-app}} fulgt. Her ble det oppgitt at følgende kommandoer må kjøres for å opprette et nytt prosjekt:
\begin{lstlisting}
npx create-react-app my-app
cd my-app
npm start
\end{lstlisting}

Det oppstod problemer når kommandoen \q{npx create-react-app my-app} skulle kjøres, og det kom flere og lange feilmeldinger. Dette måtte undersøkes nærmere, og etter et Google-søk på deler av feilmeldingen ble det oppdaget en sak på Github som omhandlet samme problem\footnote{\url{https://github.com/facebook/react/issues/11933}}.
Løsningen var å installere yarn og create-react-app globalt med yarn. La så til følgende i windows PATH så kommandoen kunne kjøres:
\begin{lstlisting}
C:\\Users\Datahjelpen AS\AppData\Local\Yarn\bin
\end{lstlisting}
Etter dette fungerte alt, og jeg kunne fortsette på guiden og gjorden følgende:

Kjørte npm install i mappen for prosjektet.

Kjørte npm start for å starte react serveren.

Kunne da sette i gang  å planlegge components.

\section{Planlegging av components}
Må planlegge components. Hva er components? Hvorfor er det lurt?

Er gjenbrukbare biter av kode. 

Ved å se på den godkjente mockupen har vi kommet frem til at vi trenger følgende components: 
\begin{itemize}
\item Meny
\item Header
\item Resultater
\item Prosess
\item Steg i prosess
\item Kontaktskjema
\item Footer
\item Ikon + link
\item Hvit boks under header. ActionBox
\item Actions til actionsbox
\end{itemize}


\section{Routing}
Routing er ikke innebygd i React. Lagde derfor en Router.js i components-mappa og kjørte følgende:

\begin{lstlisting}
npm install react-router-dom
\end{lstlisting}

Importerte deretter react-router-dom i filen Router.js

\begin{lstlisting}
import {BrowserRouter, Route, Switch} from "react-router-dom";
\end{lstlisting}

For å ha noen data og teste med lastet jeg ned foreløpige versjonen av back-end og la det lokalt.

For å kunne snakke og bruke foreløpig backend, ble Axios\footnote{Se mer i avsnitt \ref{sec:tool:axios}} benyttet. Hvis forbindelsen er vellykket og det har blitt opprettet kontakt med databasen via Axios blir alle svar som ble gitt av back-end lagret i en array. 

Deretter ble det satt opp en dynamisk routing, ved hjelp av en løkke som går igjennom alle eksisterende sider og setter opp linker til disse.

\subsection{Installerte Axios}
Følgte denne guiden
\url{https://github.com/axios/axios}
Installerte ved å kjøre kommandoen under i kommandolinjevindu i pathen til mappa til prosjektet.
\begin{lstlisting}
npm install axios
\end{lstlisting}


\section{Oppretting av components}
Startet med å lage en components mappe i src. Hvis forbindelsen er vellykket og det har blitt opprettet kontakt med databasen via Axios blir, også her, alle svar som ble gitt av back-end lagret i en array. 

\subsection{Page components}

Det ble opprettet et objekt som inneholder alle komponentene som er definert i databasen. Ved å loope igjennom alle komponentene til en side, ble det da mulig å sjekke om navnene samsvarte. Hvis de gjorde dette vil det kjøres en løkke som går igjennom alle feltene en komponent inneholder. Til slutt blir alle komponentene til en side, med riktige props\footnote{Hva er dette?} skrevet ut.  

Før det ble opprettet et objekt som inneholdt alle eksisterende components, ble det forsøkt å kun hente ut angitt komponenter til siden i back-end og så opprette components ut av dette. Da fikk vi følgende feil:
\begin{lstlisting}
<HeaderComponent /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.
\end{lstlisting}

Feilmeldingen var at komponenten brukte feil casing, noe som ikke var riktig da man i feilmeldingen også kan se at \q{\textless HeaderComponent /\textgreater} er skrevet på riktig måte. Etter en del feilsøking, fant vi ingen som hadde løst dette problemet tidligere. Endte derfor opp med å opprette objektet. 

I tillegg til å finne ut av hvilke komponenter som tilhører siden, må man i tillegg finne ut av hvilke felter som tilhører hvilke komponenter. I løkka som går igjennom objektene ble det derfor lagt til en ny løkke, som går igjennom og lagrer alle feltene i en array. Denne arrayen blir så sendt videre som props i de ulike komponentene.

\subsection{Header component}
I komponenten for Header blir alle props/feltene man mottar fra page komponenten skrevet ut. Header ble også stylet slik at den ser ut som mockupen som ble laget.

\subsection{Kompilere CSS til SCSS}
\url{https://techcookbook.com/react/use-scss-with-create-react-app}

Lastet inn node-sass ved å kjøre 

\begin{lstlisting}
npm install --save node-sass
\end{lstlisting}

After the package is installed, in our package.json, we are going to create a script to compile .scss to .css:

\begin{lstlisting}
 "build-css": "node-sass src/ -o src/"
\end{lstlisting}
\clearpage

The script build-css takes the .scss files present within the src folder and subfolders and compiles them to .css files. The .css file will be present in the same location as the original .scss file. Without having to think about any other paths, it becomes easy to import the .css file in the components that we are styling.

Next, we are going to create a script to run build-css to compile any existing files into .css but also to keep watching the src folder for changes — as in changes to the content of existing .scss files or the addition of new ones (also in packages.json):

\begin{lstlisting}
 "watch-css": "npm run build-css && node-sass src/ -o src/ --watch --recursive"
\end{lstlisting}

En test ble gjort ved å lage en fil som het "header.scss" og satte bakgrunnsfargen til rød. Dette fungerte som det skulle.

\begin{lstlisting}
 body {
  background-color: red;
}
\end{lstlisting}